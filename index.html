<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Formelsammlung-js</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
 
    <script src="https://code.jquery.com/jquery-latest.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
 
    <link rel="stylesheet" href="lib/styles/jquery.sliderTabs.min.css">
    <script src="lib/jquery.sliderTabs.js"></script>
    
    <script src="lib/math.js"></script>
    <script src="lib/mustache.js"></script>
    <script src="lib/markdown.min.js"></script>

    <script src="helpers.js"></script>
    
    <script src="Quantitys.js"></script>
    <script src="Materials.js"></script>
    <script src="Equations.js"></script>
    <script src="Stack.js"></script>


    <script async defer src="//platform.twitter.com/widgets.js"></script>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script async defer src="https://apis.google.com/js/platform.js"></script>

    <style type="text/css">

    .limitedbox {
        min-height:250px;
    }
    
    .searchbox {
        margin: 5px;
        padding: 5px;
        border-bottom: 2px solid lightgray;
    }
    
        
    .box {
        margin: 6px;
        padding: 4px;
        border-style: solid;
        background-color: #fff;
        border-color: #ddd;
        border-width: 2px;
        border-radius: 4px 4px 0 0;
        -webkit-box-shadow: none;
                box-shadow: none;
    }
    
    .variableNameInput {
        background-color:#ececec; 
        border:0;
        width:100%;
        margin:4px;
        text-align:center;
        border-radius:2px;
    }
    
    .valueInput {
        width:100%;
        margin: 2px;
        text-align:center;
        border-radius: 2px;
        border-style: groove;
    }
    .converterOutput {
        width:100%;
        margin: 2px;
        text-align:center;
        border: none;
        background-color: #ececec;
        border-radius: 2px;
    }
    .unitOutput {
        margin: 4px;
    }
    
    .updowndeleteGlyph  {
        float: left;
        margin:5px;
    }
    .scapeTransformGlyph  {
        float: left;
        margin:5px;
    }
    .iostuff {
        float:left;
        padding: 5px;
        margin-top: -10px;
    }
    .iostuffselect {
        width:100%
    }
    
    .StackEquationIoWarn {
        border-color: red;
    }
    .StackEquationIoGreen {
        border-color: green;
    }    
    .seachInput {
        margin-right : 10px;
    }
    
    .pagination>.active>a, .pagination>.active>a:focus, .pagination>.active>a:hover, .pagination>.active>span, .pagination>.active>span:focus, .pagination>.active>span:hover {
        background-color: lightgray;
        border-color: gray;
    }
    
    .glyphicon {
        cursor: pointer;
    }
    .ui-slider-tabs-list-wrapper {
        width: 80%;
    }
</style>
                    
                    
<script type="x-tmpl-mustache" id="QuantityTemplate">
    <div class="box">
        <a onclick="load_disqus_modal(Quantities.get('{{name}}'),'{{name}}')" style="font-size:0.8em;float:right;"   data-toggle="modal" data-target="#myModal"> Feedback/Translate </a>
        <span style="color:green;cursor: pointer;" class="glyphicon glyphicon-plus" onclick="Stack.add(Quantities.get('{{name}}'))">use</span>
        <b>{{name_translation}}</b>,{{aliasnames_translation}} - {{shortname_translation}},{{aliasshortnames_translation}} - {{unit}}
        <br>
        <div id="quantityDescription_{{name}}">
            {{{renderDescription}}}
        </div>
    </div>
</script>

<script type="x-tmpl-mustache" id="EquationTemplate">
    <div class="box">
        <a onclick="load_disqus_modal(Equations.get('{{name}}'),'{{name}}')" style="font-size:0.8em;float:right;"  data-toggle="modal" data-target="#myModal">Feedback/Translate </a>
        <span style="color:{{color}};cursor: pointer;" class="glyphicon glyphicon-plus" onclick="Stack.add(Equations.get('{{name}}'))">use</span>
        <b>{{name_translation}}</b>  -  {{nrOfMappableIos}}/{{io.length}} - 
        <span style="display:no{{outputName}}ne;">Could calculate: </span><b>{{outputName}}</b>
        <br>
        <div id="equationDescription_{{name}}">
            {{{renderDescription}}}
        </div>
    </div>
</script>

<script type="x-tmpl-mustache" id="MaterialTemplate">
    <div class="box">
        <a onclick="load_disqus_modal(Materials.get('{{name}}'),'{{name}}')" style="font-size:0.8em;float:right;"  data-toggle="modal" data-target="#myModal">Feedback/Translate </a>
        <span style="color:green;cursor: pointer;" class="glyphicon glyphicon-plus" onclick="Stack.add(Materials.get('{{name}}'))">use</span>
        <b>{{name_translation}}</b><br>
        {{{renderDescription}}}
    </div>
</script>

<script type="x-tmpl-mustache" id="NaturalConstantTemplate">
    <b>{{item.name}}</b> - {{item.description}} - <button onclick="Stack.add(NatualConstants.get('{{item.name}}'))">use</button><br>
</script>


<script type="x-tmpl-mustache" id="QuantitiesTemplate" >
    <div id="QuantitiesPagination" class="limitedbox">
        {{#filteredQuantitiesPagination}}
            {{{render}}}
        {{/filteredQuantitiesPagination}}
        <ul class="pagination">          
            {{#paginationPageLinks}}
                <li class="{{selected}}"><a href="#" onclick="Quantities.setPaginationPage({{nr}})">{{nr}}</a></li>
            {{/paginationPageLinks}}
        </ul>        
    </div>
</script>

<script type="x-tmpl-mustache" id="EquationsTemplate">
    <div id="EquationsPagination" class="limitedbox">
        {{#filteredEquationsPagination}}
            {{{render}}}
        {{/filteredEquationsPagination}}
        <ul class="pagination">          
            {{#paginationPageLinks}}
                <li class="{{selected}}"><a href="#" onclick="Equations.setPaginationPage({{nr}})">{{nr}}</a></li>
            {{/paginationPageLinks}}
        </ul>
        
    </div>
</script>

<script type="x-tmpl-mustache" id="MaterialsTemplate">
    <div  id="MaterialsPagination"  class="limitedbox">    
        {{#filteredmaterials}}
            {{{render}}}
        {{/filteredmaterials}}
        <ul class="pagination">          
            {{#paginationPageLinks}}
                <li class="{{selected}}"><a href="#" onclick="Materials.setPaginationPage({{nr}})">{{nr}}</a></li>
            {{/paginationPageLinks}}
        </ul>        
    </div>
</script>

<script id="NaturalConstantsTemplate" type="x-tmpl-mustache">
    <div class="limitedbox">
    {{#filterednaturalconstants}}}}
        {{{render}}}
    {{/filterednaturalconstants}}
    </div>
</script>


<script type="x-tmpl-mustache" id="StackQuantityTemplate" >
    <div id="{{id}}" class="col-md-offset-1">
        <div class="row">
            <div class="col-md-2" >
                <input class="variableNameInput" value="{{name}}" onKeyUp="Stack.get('{{id}}').setName(this.value)" 
                onclick='flashMappedInputHelper("StackEquationIo_{{id}}");'></input>
            </div>
            <div class="col-md-3"> 
                <div class="row">
                    <div class="col-md-8">
                        <input value="{{value}}" onKeyUp="Stack.get('{{id}}').setValue(this.value)" class="valueInput"></input>
                    </div>
                    <div class="col-md-3 unitOutput">
                        {{quantity.name}}
                    </div>
                </div>
                <div id="Converter_{{id}}" style="display:{{showConverter}}">
                    {{{renderConverter}}}
                </div>
            </div>
            <div class="col-md-1 scapeTransformGlyph">
                <span style="color:lightgray;color:bla{{displayScaleUp}}ck" class="glyphicon glyphicon-arrow-up" onclick="Stack.get('{{id}}').scaleUp();"></span>
                <span style="color:lightgray;color:bla{{displayScaleDown}}ck" class="glyphicon glyphicon-arrow-down" onclick="Stack.get('{{id}}').scaleDown();"></span>
                <span style="color:lightgray;color:bla{{displayShowConvert}}ck"  class="glyphicon glyphicon-random" onclick="Stack.get('{{id}}').toggleShowConverter();"></span>
            </div>
        </div>
    </div>
</script>

<script type="x-tmpl-mustache" id="StackQuantityConverterTemplate" >
    <div class="row">
        <div class="col-md-8" >
            <input class="converterOutput" value="{{value}}" readonly></input>
        </div>
        <div class="col-md-3 unitOutput">{{quantity.name}}</div>
     </div>   
</script>


<script type="x-tmpl-mustache" id="StackEquationTemplate" >
    <div id="{{id}}" class="col-md-offset-1">
        <div class="row">
            <div class="col-md-2">        
                <input class="variableNameInput" value="{{name}}" onKeyUp="Stack.get('{{id}}').setName(this.value)" 
                onclick='flashMappedInputHelper("StackEquationIo_{{id}}");'></input>
            </div>
            <div class="col-md-3"> 
                <div class="row">
                    <div class="col-md-8">
                        <input readonly value="{{resultValue}}"  class="valueInput"></input>
                    </div>
                    <div class="col-md-3 unitOutput">
                        {{#resultQuantity}}
                            {{name_translation}}<br>
                            {{unit}}
                        {{/resultQuantity}}
                    </div>
                </div>
                <div id="Converter_{{id}}" style="display:{{showConverter}}">
                    {{{renderConverter}}}
                </div>
            </div>
            <div class="col-md-1 scapeTransformGlyph">
                <span style="color:lightgray;color:bla{{displayScaleUp}}ck" class="glyphicon glyphicon-arrow-up" onclick="Stack.get('{{id}}').scaleUp();"></span>
                <span style="color:lightgray;color:bla{{displayScaleDown}}ck" class="glyphicon glyphicon-arrow-down" onclick="Stack.get('{{id}}').scaleDown();"></span>
                <span style="color:lightgray;color:bla{{displayShowConvert}}ck"  class="glyphicon glyphicon-random" onclick="Stack.get('{{id}}').toggleShowConverter();"></span>
            </div>
            <div class="col-md-5">
                {{#io}}
                    {{{render}}}
                {{/io}}
            </div>
            
        </div>
    </div>
    
    <div style="display:none;" id="{{id}}_details">
        {{#equation}}
            {{{renderDescription}}}
        {{/equation}}
    </div>

</script>


<script type="x-tmpl-mustache" id="StackEquationIoTemplate" >
    <div class="row" style="padding: 2px;">
        <div style="width:34%">
            <select class="iostuff iostuffselect {{selectableDivClass}}" onchange="Stack.get('{{parentStackEquation.id}}').getIO('{{id}}').setMappedTo(this.value,false)">
                <option value="OUTPUT">Output</option>
                {{#mapableStackElements}}
                    <option {{selected}} class="selected_{{name}} StackEquationIo_{{id}}" value="{{id}}">{{name}}</option>
                {{/mapableStackElements}}                
            </select>
        </div>
        <div class="iostuff" style="width:15%;">
            <b>{{equationio.symbol}}</b> 
        </div>
        <div class="iostuff" style="width:50%;">
            {{#equationio}}
                {{description_translation}}<br>
                {{#quantity}}
                    <a onclick='jQuery("#QuantitiesSearchInput").val("{{name_translation}}").trigger("keyup");$("#QuantitiesBoxTabSelect").click()'> {{name_translation}} </a>
                {{/quantity}}
            {{/equationio}}
        </div>
    </div>
</script>


<script type="x-tmpl-mustache" id="StackMaterialTemplate" >
    <div id="{{id}}" class="col-md-offset-1">

        <div class="row">
            <div class="col-md-2">        
                <input class="variableNameInput" value="{{name}}" onKeyUp="Stack.get('{{id}}').setName(this.value)"
                 onclick='flashMappedInputHelper("StackEquationIo_{{id}}");'></input>
            </div>
            <div class="col-md-3"> 
                <div class="row">
                    {{#material.properties}}
                        <div class="col-md-8">
                            <input readonly value="{{value}}"  class="valueInput"></input>
                        </div>
                        <div class="col-md-3 unitOutput">
                            {{quantity.name}}<br>
                            {{quantity.unit}}<br>
                        </div>
                    {{/material.properties}}
                </div>
            </div>
        </div>
    </div>
</script>


<script type="x-tmpl-mustache" id="MaterialPropertyTemplate">
    {{quantity.name}}
    {{value}}
</script>

<script type="x-tmpl-mustache" id="StackTemplate">
    {{#elements}}
        <div class="box">
            <div style="padding-left:5px"><b>{{material.name}}</b></div>   
            <div style="padding-left:5px;display:No{{equation.name}}ne"><b>{{equation.name}}</b>
                <a id="{{id}}_more" onclick='jQuery("#{{id}}_details").toggle("show");jQuery("#{{id}}_more").hide();jQuery("#{{id}}_less").show();'>Details</a>
                <a style="display:none;" id="{{id}}_less" onclick='jQuery("#{{id}}_details").toggle("show");jQuery("#{{id}}_less").hide();jQuery("#{{id}}_more").show();'>Hide Details</a>     
            </div>         
            <div class="updowndeleteGlyph">
                <span class="glyphicon glyphicon-arrow-up" onclick="Stack.moveUp('{{id}}')"></span>
                <span class="glyphicon glyphicon-arrow-down" onclick="Stack.moveDown('{{id}}')"></span>
                <span class="glyphicon glyphicon-remove-circle" onclick="Stack.remove('{{id}}')"></span>
            </div>
            {{{render}}}
        </div>
    {{/elements}}
</script>
  
<script>

var SETTINGS = {
    "EquationsIgnoreMappedElements" : false,  // ignore stack elements that already have a mapping when calculating nr of available mappings in Equation.
}
    
var LANGUAGE = "EN" 

setLanguage = function(lang){
    LANGUAGE = lang;
    Stack.render();
    Quantities.render();
    Equations.render();
    Materials.render();
}    
function init(){
 
    $.ajax({ async: false, url:"markdown/quantities.md",success: function (data){ Quantities.loadMarkdown(data); } });   
    $.ajax({ async: false, url:"markdown/equations.md" ,success: function (data){ Equations.loadMarkdown(data); } }); 
    $.ajax({ async: false, url:"markdown/materials.md" ,success: function (data){ Materials.loadMarkdown(data); } }); 
            
    $.ajax({ url:"markdown/quantities_DE.md",success: function (data){ Quantities.loadTranslationMarkdown("DE",data); } });   
    $.ajax({ url:"markdown/equations_DE.md" ,success: function (data){ Equations.loadTranslationMarkdown("DE",data); } }); 
    $.ajax({ url:"markdown/materials_DE.md" ,success: function (data){ Materials.loadTranslationMarkdown("DE",data); } }); 

    Quantities.init();    
    Equations.init();    
    
    Quantities.setFilter("");
    Equations.setFilter("");
    Materials.setFilter("");
    var slider = $("div#SliderTabs").sliderTabs({
        mousewheel: false,
    });
    
}

</script>

<script>
    // facebook
    (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/de_DE/sdk.js#xfbml=1&version=v2.8";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>


<script>

    function init_disqus() { 
        disqus_config = function () {
            this.page.url =        "https://dirk-attraktor.github.io/formelsammlung-js/#!general" 
            this.page.identifier = "https://dirk-attraktor.github.io/formelsammlung-js/#!general" 
        }
        var d = document, s = d.createElement('script');
        s.src = '//formelsammlung-js.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    };
    init_disqus();
    
    function reload_disqus(newidentifier){
        DISQUS.reset({
          reload: true,
          config:  function () {
            this.page.url =        "https://dirk-attraktor.github.io/formelsammlung-js/#!"+newidentifier;   
            this.page.identifier = "https://dirk-attraktor.github.io/formelsammlung-js/#!"+newidentifier;
          }
        });
    }
    
    function load_disqus_modal(element,identifier){
        $('#modal_description_preview')[0].innerHTML = element.renderDescription();
        $('#modal-title')[0].innerHTML = "<b>" + element.name_translation() + "</b>";
        $('#modal-body')[0].innerHTML =  '<div id="disqus_thread"></div>';
        $('#disqus_general_thread')[0].innerHTML =  '';
        reload_disqus(element.constructor.name + "_" + identifier);
    }
     function load_disqus_footer(){
        $('#modal_description_preview')[0].innerHTML = "";
        $('#modal-title')[0].innerHTML = "";
        $('#disqus_general_thread')[0].innerHTML =  '<div id="disqus_thread"></div>';
        $('#modal-body')[0].innerHTML =  "";
        reload_disqus("general");
    }   

</script>



</head>
<body onload="init()">

    <div class="container">

        <div class="box"> 
            <div id="Stack"> 
            </div>
        </div>
                 
        <div id="SliderTabs" class="box" >
      
            <ul>
                <li><a id="QuantitiesBoxTabSelect"    href="#QuantitiesBox">Quantities</a></li>
                <li><a id="MaterialsBoxTabSelect"  href="#MaterialsBox">Materials</a></li>
                <li><a id="EquationsBoxTabSelect"  href="#EquationsBox">Equations</a></li>
            </ul>
            
            <select style="float:right;margin-top:4px;" onchange="setLanguage(this.value);">
                <option value="EN">English</option>
                <option value="DE">German</option>
            </select>
            
            <div id="QuantitiesBox">
                <div class="searchbox">
                    <input id="QuantitiesSearchInput" class="seachInput" onKeyUp="Quantities.setFilter(this.value)" placeholder="Search Quantities"></input><br>
                </div>
                <div id="QuantitiesList"></div>
            </div>
            
            <div id="EquationsBox">
                <div class="searchbox">
                    <input id="EquationsSearchInput" class="seachInput" onKeyUp="Equations.setFilter(this.value)" placeholder="Search Equations"></input><br>
                </div>
                <div id="EquationsList"></div>
            </div>
            
            <div id="MaterialsBox">
                <div class="searchbox">
                    <input id="MaterialsSearchInput" class="seachInput" onKeyUp="Materials.setFilter(this.value)" placeholder="Search Materials"></input><br>
                </div>
                <div id="MaterialsList"></div>
            </div>
        </div>
        
        <div class="box">
            <a target="blanc" href="https://github.com/dirk-attraktor/formelsammlung-js/"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>
            <div class="row" style="margin-top: 5px; ">
                <div style="text-align:center;margin-top: 4px;" class="col-md-3">
                    <a class="twitter-share-button"href="https://twitter.com/intent/tweet?text=Make #Formelsammlung great again">Tweet</a>       
                </div>
                <div style="text-align:center;margin-top: 4px;"  class="col-md-3">
                    <div class="fb-like" data-href="https://dirk-attraktor.github.io/formelsammlung-js/" data-width="100" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div>
                </div>

                <div style="text-align:center;margin-top: 2px;"  class="col-md-3">
                    <div class="g-plus" data-action="share" data-annotation="bubble"  data-height="24" data-href="https://dirk-attraktor.github.io/formelsammlung-js/"></div>                 
                </div>
                <div style="text-align:center;"  class="col-md-3">
                    <a class="github-button" href="https://github.com/dirk-attraktor/formelsammlung-js/issues" data-icon="octicon-issue-opened"  data-style="mega" data-count-api="/repos/dirk-attraktor/formelsammlung-js#open_issues_count" data-count-aria-label="# issues on GitHub" aria-label="Issue dirk-attraktor/formelsammlung-js on GitHub">Issue</a>
                </div>
               
            </div>
        </div>
        
        <div id="disqus_general_thread" class="box">
            <div id="disqus_thread"></div>
        </div>
        
    </div>

    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog modal-lg">
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button onclick="load_disqus_footer()" type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 id="modal-title" class="modal-title">Enhance this description</h4>
              <div id="modal_description_preview" class="box">  
              
              </div>
            </div>
            <div id="modal-body" class="modal-body">
                
            </div>
            <div class="modal-footer">
              <button onclick="load_disqus_footer()" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
    </div>
        
  </body>
</html>
